# Test Configuration for Dameng Database
# 达梦数据库测试配置

# Dameng Database Configuration (达梦数据库配置)
spring.datasource.url=jdbc:dm://192.168.1.6:5237?useUnicode=true&characterEncoding=utf-8
spring.datasource.username=SYSDBA
spring.datasource.password=Wfc123!@
spring.datasource.driver-class-name=dm.jdbc.driver.DmDriver

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.DmDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# Disable auto data.sql loading
spring.sql.init.mode=never

# IM Server Configuration (mock values for tests)
im.admin_id=admin
im.admin_url=http://localhost:8080
im.admin_secret=admin_secret

# Media Server Configuration
media.server.media_type=0
media.server_url=http://localhost:8080
media.access_key=test_key
media.secret_key=test_secret
media.bucket_name=test_bucket
media.bucket_domain=http://localhost:8080

# Server Configuration
server.port=8880

# H2备用配置（无达梦环境时使用）
# spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=MySQL
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=
# spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# spring.jpa.hibernate.ddl-auto=create-drop
